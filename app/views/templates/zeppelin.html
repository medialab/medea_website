<div class="fill-height">
  <div class="col-sm-5 col-md-5 col-lg-4  fill-height slider-wrapper noLeftGutter">
    <div class="slider fill-height overflow noLeftGutter">
      <section ng-repeat="section in sections" id="{{'chapter_' + $index}}">
        <h3 class="chapterNumbers">{{section.title}}</h3>
        <div sectiontoinsert sectionhtml="section.html"></div>
        <br/>
      </section>
    </div>
  </div>
  <div class="col-sm-7 col-md-7 col-lg-8 fill-height noRightGutter noLeftGutter">
    <div class="fill-height" ng-switch="sections[index].directive">
      <div class="image" ng-switch-when="image">
        <img ng-repeat="src in $parent.$parent.section.datasrc" ng-src="{{src}}"/>
      </div>
      <div class="focus" ng-switch-when="focus">
        <div focus src="section.datasrc[0]"></div>
      </div>
      <div ng-switch-when="tableau-geo">
        <script type='text/javascript' src='https://public.tableausoftware.com/javascripts/api/viz_v1.js'></script><div class='tableauPlaceholder' style='width: 1004px; height: 669px;'><noscript><a href='#'><img alt='Countries and their participation to IPCC ARs ' src='https:&#47;&#47;publicrevizit.tableausoftware.com&#47;static&#47;images&#47;F6&#47;F6B28M7W7&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz' width='1004' height='669' style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableausoftware.com%2F' /> <param name='path' value='shared&#47;F6B28M7W7' /> <param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;publicrevizit.tableausoftware.com&#47;static&#47;images&#47;F6&#47;F6B28M7W7&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='showVizHome' value='no' /><param name='showTabs' value='y' /></object></div><div style='width:1004px;height:22px;padding:0px 10px 0px 0px;color:black;font:normal 8pt verdana,helvetica,arial,sans-serif;'><div style='float:right; padding-right:8px;'><a href='http://www.tableausoftware.com/public/about-tableau-products?ref=https://public.tableausoftware.com/shared/F6B28M7W7' target='_blank'>Learn About Tableau</a></div></div>
      </div>
      <div ng-switch-when="donut">
        <donut></donut>
      </div>
      <div class="fill-height" ng-switch-when="enbgraph">
        <div class="fill-height" enbgraph gexf="section.datasrc[0]" csv="section.datasrc[1]" height="height"></div>
      </div>
      <div class="fill-height scrollable" ng-switch-when="pdfWG">
        <img class="imgScaled" ng-src="media/pdfWG.png">
        <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
        <div collapse="isCollapsed" class="vizLegendZone">
          <div class="topline"></div>
          <div class="vizLegendText">
            <h4>Report of the first session of the WMO/UNEP INTERGOVERNMENTAL PANEL ON CLIMATE CHANGE (IPCC)<br/>Geneva, 9-11 November 1988</h4>
          </div>
        </div>
      </div>
      <div class="fill-height scrollable" ng-switch-when="pdfOrga">
        <div class="fullWidth">
          <img class="imgScaled imgNotScrollable" ng-src="media/pdfOrga.png">
        </div>
        <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
        <div collapse="isCollapsed" class="vizLegendZone">
          <div class="topline"></div>
          <div class="vizLegendText">
            <h4>Organisation of the IPCC</h4>
          </div>
        </div>
      </div>
      <div class="fill-height scrollable flex" ng-switch-when="ipccwgvenn">
        <div id="venn" class="fillComplement" ipccwgvenn path="$parent.$parent.section.datasrc[0]"></div>
        <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
        <div collapse="isCollapsed" class="vizLegendZone">
          <div class="topline"></div>
          <div class="vizLegendText">
            <h4>Distribution of IPCC authors among the 3 working groups all assessment reports aggregated</h4>
          </div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="participationByChapters">
        <div id="containerBricks" participationbychapters>
          <div id="vizTopContainer">
            <span id="vizTitleContainer">
             Participations by chapter
             <select name="countrySelector" id="titleCountry"></select>
            </span>
            <a href="contents/data/bricks-partByChapters/participations.json" id="downloadDataButton" download>
              <img type="image/svg+xml"
                      ng-src="media/bricks-partByChapters/downloadData.svg"
                      width="22"
                      ></img>
            </a>
          </div>
          <div id="bricksSvgContainer"></div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="participationRatesHisto">
        <div id="containerparticipationRatesHisto" class="flex fill-height" participationrateshisto>
          <div class="fillComplement">
            <div id="containerNonBridge"></div>
            <div id="containerBridge"></div>
          </div>
          <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
          <div collapse="isCollapsed" class="vizLegendZone">
            <div class="topline"></div>
            <div class="vizLegendText">
              <h4>Comparison of distribution participations between bridge and non-bridge authors in the IPCC</h4>
            </div>
          </div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="participationRatesHistoTotal">
        <div id="containerparticipationRatesHistoTotal" class="fill-height" participationrateshistototal>
          <div id="containerTotal"></div>
          <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
          <div collapse="isCollapsed" class="vizLegendZone">
            <div class="topline"></div>
            <div class="vizLegendText">
              <h4>Distribution of author participations in the IPCC</h4>
            </div>
          </div>
        </div>
      </div>
      <div class="fill-height fill-width" ng-switch-when="guardianArticle">
        <iframe class="fill-height fill-width"src="http://www.theguardian.com/environment/2010/jan/20/himalayan-glaciers-melt-claims-false-ipcc"></iframe>
      </div>
      <div class="fill-height" ng-switch-when="roleDistribStacked">
        <div id="containerroledistribstacked" class="fill-height" roledistribstacked>
          <div id="containerStackedBars" class="flex fill-height">
            <div id="svgContainer" class="fillComplement"></div>
            <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
            <div collapse="isCollapsed" class="vizLegendZone">
              <div class="topline"></div>
              <div class="vizLegendText">
                <h4>Repartion roles in the IPCC by author type</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="pdfConclusion">
        <div id="pdfconclusion" class="fill-height" pdfconclusion>
          <canvas id="containerPdfConclusion"></canvas>
          <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
          <div collapse="isCollapsed" class="vizLegendZone">
            <div class="topline"></div>
            <div class="vizLegendText">
              <h4><button id="prevPDF">Previous</button><button id="nextPDF">Next</button>&nbsp; &nbsp;
            <span>Page: <span id="page_numPDF"></span> / <span id="page_countPDF"></span></span></h4>
            </div>
          </div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="gexfTest1">
        <div id="gexfTest1" class="fill-height" gexftestone>
          <div id="gexfTest1" class="fill-height flex">
            <div id="sigma-container" class="fillComplement"></div>
            <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
            <div class="sigma-tools">
              <div class="btn-group-vertical">
                <button
                  type="button"
                  id="recenterButton"
                  class="btn btn-link btn-xs sigmaControl"
                  tooltip-placement="right"
                  tooltip="Recenter"
                >
                  <span class="glyphicon glyphicon-record"></span>
                </button>
                <button
                  type="button"
                  id="zoomButton"
                  class="btn btn-link btn-xs sigmaControl"
                  tooltip-placement="right"
                  tooltip="Zoom"
                >
                  <span class="glyphicon glyphicon-plus"></span>
                </button>
                <button
                  type="button"
                  id="unzoomButton"
                  class="btn btn-link btn-xs sigmaControl"
                  ng-click="sigmaUnzoom()"
                  tooltip-placement="right"
                  tooltip="Dezoom"
                >
                  <span class="glyphicon glyphicon-minus"></span>
                </button>
              </div>
            </div>
            <div collapse="isCollapsed" class="vizLegendZone">
              <img ng-src="images/legend-left.png" id="legend-left">
              <img ng-src="images/legend-right.png" id="legend-right">
              <div class="topline"></div>
              <div class="vizLegendText">
                <h4 id="vizTitle">Bridge authors in AR
              <select id="currentAR" class="pointable">
                <option value='1' selected>1</option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5</option>
              </select><i class="fa fa-chevron-down selectIcon"></i></h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="partCountriesBridgeNonBridge">
        <div id="containerpartcountriesbridgenonbridge" class="fill-height" partcountriesbridgenonbridge>
          <div id="containerPartCountriesBridgeNonBridge">
            <div id="containerNonBridge"></div>
            <div id="containerBridge"></div>
            <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
            <div collapse="isCollapsed" class="vizLegendZone">
              <div class="topline"></div>
              <div class="vizLegendText">
                <h4>Comparison of distribution of country participations in the IPCC by author type</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="worldmapDiversity">
        <iframe width='100%' height='100%' frameborder='0' src='https://audreybaneyx.cartodb.com/viz/0ec34b32-24b9-11e5-9a86-0e853d047bba/embed_map' allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
      </div>
      <div class="fill-height" ng-switch-when="diversityAcrossAR">
        <iframe style="display: inline-block;"width="49%" height="100%" frameborder="0" seamless="seamless" scrolling="no" src="https://plot.ly/~legaultpierre/41" ></iframe>
        <iframe width="49%" height="100%" frameborder="0" seamless="seamless" scrolling="no" src="https://plot.ly/~legaultpierre/8" ></iframe>
        <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
        <div collapse="isCollapsed" class="vizLegendZone">
          <div>Legend to be put here</div>
          <div class="topline"></div>
          <div class="vizLegendText">
            <h4>WMO groups' participations across ARs</h4>
          </div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="diversityBetweenWGs">
        <iframe style="display: inline-block;"width="49%" height="100%" frameborder="0" seamless="seamless" scrolling="no" src="https://plot.ly/~legaultpierre/54" ></iframe>
        <iframe width="49%" height="100%" frameborder="0" seamless="seamless" scrolling="no" src="https://plot.ly/~legaultpierre/47" ></iframe>
        <button class="btn btn-default vizLegendButton" ng-click="isCollapsed = !isCollapsed"><i class="fa fa-chevron-circle-{{isCollapsed ? 'up': 'down'}}"></i></button>
        <div collapse="isCollapsed" class="vizLegendZone">
          <div>Legend to be put here</div>
          <div class="topline"></div>
          <div class="vizLegendText">
            <h4>WMO groups' participations in working groups</h4>
          </div>
        </div>
      </div>
      <div class="fill-height" ng-switch-when="ipccpeoplelines">
        <div id="peoplelines" class="fill-height overflow" ipccpeoplelines>
          <h3>National individual participations to each Assessment Report</h3>
          <span>Country: </span>
          <select id="lines-countries-choice"></select>
          <span>Sort by: </span>
          <select id="lines-countries-order">
            <option value="alpha">Contributors names</option>
            <option value="participations">Total contributions</option>
            <option selected="selected" value="reports">Participation to ARs</option>
            <option value="chrono">First participation</option>
          </select>
          <div id="lines-countries-viz"></div>
        </div>
      </div>
      <div ng-switch-default> No viz assigned here </div>
    </div>
</div>
